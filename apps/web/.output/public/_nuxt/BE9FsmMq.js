import{_ as M}from"./HvCor6rj.js";import{g as N,l as C,R as D,m as P,c as S,a as t,A as V,y as x,B as L,n as a,C as $,z as w,t as y,Q as R,q as K,p as T,d as v,b as Z,w as F,F as O,x as i,o as z,V as f,v as j,K as q,S as U}from"./qrGIMbRh.js";const W={class:"relative border border-neutral-200 dark:border-neutral-700 bg-app pt-8 pb-6 px-6 rounded-sm min-h-[420px]"},Q={class:"login"},G={class:"relative"},H={class:"relative"},J=["onKeydown"],X=["disabled"],Y={key:0,class:"fa-solid fa-spinner fa-spin text-base"},ee={class:"text-center"},te={class:"border border-neutral-200 dark:border-neutral-700 bg-app mt-2 py-4 text-center"},ae={class:"text-sm text-neutral-900 dark:text-white"},ne=N({__name:"index",setup(se){const l=i(""),r=i(""),n=i(""),d=i(!1),p=i(!1),u=i(!1),c=C(),m=D(),g=s=>/^[A-Za-z0-9_.-]+@[A-Za-z0-9-]+\.[A-Za-z0-9-]+/.test(s),k=s=>/^(?=.*[a-zA-Z])(?=.*[0-9])(?=.*[$`~!@$!%*#^?&()-_=+]).{8,16}$/.test(s),h=j(()=>l.value&&r.value&&!d.value&&!p.value);function b(s,e){n.value=e,s==="email"?d.value=!0:p.value=!0}function B(){return n.value="",d.value=!1,p.value=!1,g(l.value)?k(r.value)?!0:(b("password",f.PASSWORD),!1):(b("email",f.EMAIL),!1)}function A(){d.value=!g(l.value)&&l.value.length>0,g(l.value)&&(n.value="")}function _(){p.value=!k(r.value)&&r.value.length>0,k(r.value)&&(n.value="")}async function I(){if(!(!B()||u.value)){if(c.isLoggedIn){await m.replace("/");return}u.value=!0,n.value="";try{const s=await c.login(l.value,r.value);s.success?(await q(),await m.replace("/")):b("email",s.message)}catch(s){b("email",U(s))}finally{u.value=!1}}}return P(()=>{c.isLoggedIn&&m.replace("/")}),(s,e)=>{const E=M;return z(),S(O,null,[t("div",W,[e[10]||(e[10]=t("h1",{class:"font-lobster text-4xl text-center mb-10 text-black dark:text-white"}," Instagram ",-1)),t("div",Q,[t("form",{class:"flex flex-col gap-2",onSubmit:V(I,["prevent"])},[t("div",G,[x(t("input",{id:"login-id","onUpdate:modelValue":e[0]||(e[0]=o=>$(l)?l.value=o:null),type:"text",placeholder:"전화번호, 사용자 이름 또는 이메일",class:"w-full h-[38px] px-2 bg-neutral-50 bg-app border border-neutral-200 dark:border-neutral-600 rounded text-xs outline-none box-border text-black dark:text-white placeholder-neutral-500",onBlur:e[1]||(e[1]=o=>A()),onInput:e[2]||(e[2]=o=>A())},null,544),[[L,a(l)]]),x(t("p",{class:"text-red-500 dark:text-red-400 text-xs pt-1"},y(a(f).EMAIL),513),[[w,a(d)]])]),t("div",H,[x(t("input",{id:"login-pw","onUpdate:modelValue":e[3]||(e[3]=o=>$(r)?r.value=o:null),type:"password",placeholder:"비밀번호",class:"w-full h-[38px] px-2 bg-neutral-50 bg-app border border-neutral-200 dark:border-neutral-600 rounded text-xs outline-none box-border text-black dark:text-white placeholder-neutral-500",onBlur:e[4]||(e[4]=o=>_()),onInput:e[5]||(e[5]=o=>_()),onKeydown:R(V(I,["prevent"]),["enter"])},null,40,J),[[L,a(r)]]),x(t("p",{class:"text-red-500 dark:text-red-400 text-xs pt-1"},y(a(f).PASSWORD),513),[[w,a(p)]])]),t("button",{type:"submit",class:K(["w-full h-8 text-white font-semibold text-[15px] bg-blue-500 dark:bg-blue-600 border-0 rounded disabled:opacity-50 hover:opacity-90 transition-opacity flex items-center justify-center gap-2",[a(h)?"cursor-pointer opacity-100":"opacity-50",a(u)&&"pointer-events-none"]]),disabled:!a(h)||a(u)},[a(u)?(z(),S("i",Y)):T("",!0),e[6]||(e[6]=v(" 로그인 ",-1))],10,X)],32),e[9]||(e[9]=t("div",{class:"flex items-center gap-4 my-6"},[t("div",{class:"flex-1 h-px bg-neutral-200 dark:bg-neutral-700"}),t("span",{class:"text-[13px] font-bold text-neutral-500 dark:text-neutral-400"},"또는"),t("div",{class:"flex-1 h-px bg-neutral-200 dark:bg-neutral-700"})],-1)),t("div",ee,[e[7]||(e[7]=t("button",{type:"button",class:"text-blue-800 dark:text-blue-300 text-sm flex items-center justify-center gap-2 mx-auto hover:underline"},[t("i",{class:"fa-brands fa-square-facebook text-lg"}),v(" Facebook으로 로그인 ")],-1)),x(t("p",{class:"text-red-500 dark:text-red-400 text-[15px] mt-4"},y(a(n)),513),[[w,a(n)]]),e[8]||(e[8]=t("button",{class:"block w-fit mx-auto mt-4 text-[13px] text-blue-600 dark:text-blue-400 hover:underline"}," 비밀번호를 잊으셨나요? ",-1))])])]),t("div",te,[t("p",ae,[e[12]||(e[12]=v(" 계정이 없으신가요? ",-1)),Z(E,{to:"/auth/signup",class:"font-bold text-blue-500 dark:text-blue-400 hover:underline"},{default:F(()=>[...e[11]||(e[11]=[v(" 가입하기 ",-1)])]),_:1})])])],64)}}});export{ne as default};
