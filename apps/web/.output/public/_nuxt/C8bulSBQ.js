import{_ as U}from"./HvCor6rj.js";import{g as Z,l as D,R as L,c as $,a as t,A as M,y as d,B as v,n as a,C as c,z as g,t as w,q as P,p as T,d as h,b as F,w as O,F as j,x as n,o as S,V as y,v as q,S as K}from"./qrGIMbRh.js";const W={class:"relative border border-neutral-200 dark:border-neutral-700 bg-app pt-8 pb-6 px-6 rounded-sm min-h-[420px]"},G={class:"register"},H={class:"relative"},J={class:"relative"},Q={class:"relative"},X={class:"relative"},Y=["disabled"],ee={key:0,class:"fa-solid fa-spinner fa-spin text-base"},te={class:"border border-neutral-200 dark:border-neutral-700 bg-app mt-2 py-4 text-center"},ae={class:"text-sm text-neutral-900 dark:text-white"},se=Z({__name:"signup",setup(le){const s=n(""),p=n(""),o=n(""),u=n(""),x=n(""),b=n(!1),m=n(!1),f=n(!1),i=n(!1),_=D(),z=L(),A=r=>/^[A-Za-z0-9_.-]+@[A-Za-z0-9-]+\.[A-Za-z0-9-]+/.test(r),B=r=>/^[a-zA-Z0-9]+$/.test(r),E=r=>/^(?=.*[a-zA-Z])(?=.*[0-9])(?=.*[$`~!@$!%*#^?&()-_=+]).{8,16}$/.test(r),k=q(()=>s.value&&p.value&&o.value&&u.value&&!b.value&&!m.value&&!f.value);function N(){b.value=!A(s.value)&&s.value.length>0,A(s.value)&&(x.value="")}function I(){m.value=!B(o.value)&&o.value.length>0}function V(){f.value=!E(u.value)&&u.value.length>0}async function C(){if(!(!k.value||i.value)){i.value=!0,x.value="";try{const r=await _.register({email:s.value,pw:u.value,name:p.value,nickname:o.value});r.success?await z.replace("/auth/message"):(x.value=K({message:r.message}),b.value=!0)}finally{i.value=!1}}}return(r,e)=>{const R=U;return S(),$(j,null,[t("div",W,[e[12]||(e[12]=t("h1",{class:"font-lobster text-4xl text-center mb-10 text-black dark:text-white"}," Instagram ",-1)),t("div",G,[t("form",{class:"flex flex-col gap-2",onSubmit:M(C,["prevent"])},[t("div",H,[d(t("input",{"onUpdate:modelValue":e[0]||(e[0]=l=>c(s)?s.value=l:null),type:"text",placeholder:"이메일",class:"w-full h-[38px] px-2 bg-neutral-50 bg-app border border-neutral-200 dark:border-neutral-600 rounded text-xs outline-none box-border text-black dark:text-white placeholder-neutral-500",onBlur:e[1]||(e[1]=l=>N()),onInput:e[2]||(e[2]=l=>N())},null,544),[[v,a(s)]]),d(t("p",{class:"text-red-500 dark:text-red-400 text-xs pt-1"},w(a(x)||a(y).EMAIL),513),[[g,a(b)]])]),t("div",J,[d(t("input",{"onUpdate:modelValue":e[3]||(e[3]=l=>c(p)?p.value=l:null),type:"text",placeholder:"성명",class:"w-full h-[38px] px-2 bg-neutral-50 bg-app border border-neutral-200 dark:border-neutral-600 rounded text-xs outline-none box-border text-black dark:text-white placeholder-neutral-500"},null,512),[[v,a(p)]])]),t("div",Q,[d(t("input",{"onUpdate:modelValue":e[4]||(e[4]=l=>c(o)?o.value=l:null),type:"text",placeholder:"사용자 이름",class:"w-full h-[38px] px-2 bg-neutral-50 bg-app border border-neutral-200 dark:border-neutral-600 rounded text-xs outline-none box-border text-black dark:text-white placeholder-neutral-500",onBlur:e[5]||(e[5]=l=>I()),onInput:e[6]||(e[6]=l=>I())},null,544),[[v,a(o)]]),d(t("p",{class:"text-red-500 dark:text-red-400 text-xs pt-1"},w(a(y).NICKNAME),513),[[g,a(m)]])]),t("div",X,[d(t("input",{"onUpdate:modelValue":e[7]||(e[7]=l=>c(u)?u.value=l:null),type:"password",placeholder:"비밀번호",class:"w-full h-[38px] px-2 bg-neutral-50 bg-app border border-neutral-200 dark:border-neutral-600 rounded text-xs outline-none box-border text-black dark:text-white placeholder-neutral-500",onBlur:e[8]||(e[8]=l=>V()),onInput:e[9]||(e[9]=l=>V())},null,544),[[v,a(u)]]),d(t("p",{class:"text-red-500 dark:text-red-400 text-xs pt-1"},w(a(y).PASSWORD_RULE),513),[[g,a(f)]])]),t("button",{type:"submit",class:P(["w-full h-8 text-white font-semibold text-[15px] bg-blue-500 dark:bg-blue-600 border-0 rounded disabled:opacity-50 hover:opacity-90 transition-opacity flex items-center justify-center gap-2",[a(k)?"cursor-pointer opacity-100":"opacity-50",a(i)&&"pointer-events-none"]]),disabled:!a(k)||a(i)},[a(i)?(S(),$("i",ee)):T("",!0),e[10]||(e[10]=h(" 가입 ",-1))],10,Y)],32),e[11]||(e[11]=t("p",{class:"text-xs text-neutral-500 dark:text-neutral-400 mt-4 text-center"}," 가입하면 약관 및 개인정보 처리방침에 동의하게 됩니다. ",-1))])]),t("div",te,[t("p",ae,[e[14]||(e[14]=h(" 계정이 있으신가요? ",-1)),F(R,{to:"/auth",class:"font-bold text-blue-500 dark:text-blue-400 hover:underline"},{default:O(()=>[...e[13]||(e[13]=[h(" 로그인 ",-1)])]),_:1})])])],64)}}});export{se as default};
